<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Building the Connection URL</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="connection URL" /><meta name="Microsoft.Help.Id" content="44996746-d373-4f59-9863-a8a20bb8024a" /><meta name="Description" content="The general form of the connection URL is" /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Building the Connection URL</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>The general form of the connection URL is</p><p><span class="code">jdbc:sqlserver://[serverName[\instanceName][:portNumber]][;property=value[;property=value]]</span></p><p>where: </p><ul><li><p><span class="label">jdbc:sqlserver://</span> (Required) is known as the sub-protocol and is constant. </p></li><li><p><span class="label">serverName</span> (Optional) is the address of the server to connect to. This could be a DNS or IP address, or it could be localhost or 127.0.0.1 for the local computer. If not specified in the connection URL, the server name must be specified in the properties collection.</p></li><li><p><span class="label">instanceName</span> (Optional) is the instance to connect to on serverName. If not specified, a connection to the default instance is made.</p></li><li><p><span class="label">portNumber</span> (Optional) is the port to connect to on serverName. The default is 1433. If you are using the default, you do not have to specify the port, nor its preceding ':', in the URL.</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>For optimal connection performance, you should set the portNumber when you connect to a named instance. This will avoid a round trip to the server to determine the port number. If both a portNumber and instanceName are used, the portNumber will take precedence and the instanceName will be ignored.</p></div></li><li><p><span class="label">property</span> (Optional) is one or more option connection properties. For more information, see <span sdata="link"><a href="f1b62700-f046-488d-bd6b-a5cd8fc345b7.htm">Setting the Connection Properties</a></span>. Any property from the list can be specified. Properties can only be delimited by using the semicolon (';'), and they cannot be duplicated. </p></li></ul><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>For security purposes, you should avoid building the connection URLs based on user input. You should only specify the server name and driver in the URL. For user name and password values, use the connection property collections. For more information about security in your JDBC applications, see <span sdata="link"><a href="90724ec6-a9cb-43ef-903e-793f89410bc0.htm">Securing JDBC Driver Applications</a></span>.</p></div></div><h1 class="heading">Connection Examples</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>Connect to the default database on the local computer by using a user name and password:</p><p><span class="code">jdbc:sqlserver://localhost;user=MyUserName;password=*****;</span></p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Although the previous example uses a username and password in the connection string, if you are running your application on a Windows operating system, you should use integrated security as it is more secure. For more information, see the <a href="#Connectingintegrated">Connecting with Integrated Authentication</a> section later in this topic.</p></div><p>Connect to the default database on the local computer by using integrated authentication:</p><p><span class="code">jdbc:sqlserver://localhost;integratedSecurity=true;</span></p><p>Connect to a named database on a remote server:</p><p><span class="code">jdbc:sqlserver://localhost;databaseName=AdventureWorks;integratedSecurity=true;</span></p><p>Connect on the default port to the remote server:</p><p><span class="code">jdbc:sqlserver://localhost:1433;databaseName=AdventureWorks;integratedSecurity=true;</span></p><p>Connect by specifying a customized application name:</p><p><span class="code">jdbc:sqlserver://localhost;databaseName=AdventureWorks;integratedSecurity=true;applicationName=MyApp;</span></p></div><h1 class="heading">Named and Multiple SQL Server Instances</h1><div id="sectionSection1" class="section" name="collapseableSection" style=""><p>SQL Server allows for the installation of multiple database instances per server. Each instance is identified by a specific name. To connect to a named instance of SQL Server, you can either specify the port number of the named instance (preferred), or you can specify the instance name as a JDBC URL property or a <span class="label">datasource</span> property. If no instance name or port number property is specified, a connection to the default instance is created. See the following examples:</p><p>To use a port number, do the following:</p><p><span class="code">jdbc:sqlserver://localhost:1433;integratedSecurity=true;&lt;more properties as required&gt;;</span></p><p>To use a JDBC URL property, do the following:</p><p><span class="code">jdbc:sqlserver://localhost;instanceName=instance1;integratedSecurity=true;&lt;more properties as required&gt;;</span></p></div><h1 class="heading">Escaping Values in the Connection URL</h1><div id="sectionSection2" class="section" name="collapseableSection" style=""><p>You might have to escape certain parts of the connection URL values because of the inclusion of special characters such as spaces, semicolons, and quotation marks. The JDBC driver supports escaping these characters if they are enclosed in braces. For example, {;} escapes a semicolon.</p><p>Escaped values can contain special characters (especially '=', ';', '[]', and space) but cannot contain braces. Values that must be escaped and contain braces should be added to a properties collection.</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>White space inside the braces is literal and not trimmed.</p></div></div><a name="Connectingintegrated"> </a><h1 class="heading">Connecting with Integrated Authentication</h1><div id="sectionSection3" class="section" name="collapseableSection" style=""><p>See <span sdata="link"><a href="687802dc-042a-4363-89aa-741685d165b3.htm">Using Kerberos Integrated Authentication to Connect to SQL Server</a></span> for a description of a feature added in Microsoft JDBC Driver for SQL Server that also lets an application connect to a database using integrated authentication.</p><p>The JDBC driver supports the use of Type 2 integrated authentication on Windows operating systems through the integratedSecurity connection string property. To use integrated authentication, copy the sqljdbc_auth.dll file to a directory on the Windows system path on the computer where the JDBC driver is installed. </p><p>The sqljdbc_auth.dll files are installed in the following location:</p><p>&lt;<span class="placeholder">installation directory</span>&gt;\sqljdbc_&lt;<span class="placeholder">version</span>&gt;\&lt;<span class="placeholder">language</span>&gt;\auth\</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>If you are running a 32-bit Java Virtual Machine (JVM), use the sqljdbc_auth.dll file in the x86 folder, even if the operating system is the x64 version. If you are running a 64-bit JVM on a x64 processor, use the sqljdbc_auth.dll file in the x64 folder.</p></div><p>Alternatively you can set the java.libary.path system property to specify the directory of the sqljdbc_auth.dll. For example, if the JDBC driver is installed in the default directory, you can specify the location of the DLL by using the following virtual machine (VM) argument when the Java application is started: </p><p><span class="code">-Djava.library.path=C:\Microsoft JDBC Driver 4.0 for SQL Server\sqljdbc_&lt;version&gt;\enu\auth\x86</span></p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>The JDBC driver does not support the integrated authentication when the driver runs on non-Windows operating systems. The driver also does not provide any functionality to supply Windows Authentication credentials, such as user name and password, when connecting to SQL Server from non-Windows operating systems. In such cases, the applications must use SQL Server Authentication instead.</p></div></div><h1 class="heading">Connecting with IPv6 Addresses</h1><div id="sectionSection4" class="section" name="collapseableSection" style=""><p>The JDBC driver supports the use of IPv6 addresses with the connection properties collection, and with the serverName connection string property. The initial serverName value, such as jdbc:<span class="placeholder">sqlserver</span>://<span class="placeholder">serverName</span>, is not supported for IPv6 addresses in connection strings. Using a name for <span class="placeholder">serverName</span> instead of a raw IPv6 address will work in every case in the connection. The following examples provide more information.</p><p><span class="label">To use the serverName property</span></p><p><span class="code">jdbc:sqlserver://;serverName=3ffe:8311:eeee:f70f:0:5eae:10.203.31.9\\instance1;integratedSecurity=true;</span></p><p><span class="label">To use the properties collection</span></p><p><span class="code">Properties pro = new Properties();</span></p><p><span class="code">pro.setProperty("serverName", "serverName=3ffe:8311:eeee:f70f:0:5eae:10.203.31.9\\instance1");</span></p><p><span class="code">Connection con = DriverManager.getConnection("jdbc:sqlserver://;integratedSecurity=true;", pro);</span></p></div><span id="seeAlsoSpan"><h1 class="heading">See Also</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="94bcfbe3-f00e-4774-bda8-bb7577518fec.htm">Connecting to SQL Server with the JDBC Driver</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Send <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','01.00.12024.10000','%0\dThank%20you%20for%20your%20feedback.%20The%20developer%20writing%20teams%20use%20your%20feedback%20to%20improve%20documentation.%20While%20we%20are%20reviewing%20your%20feedback,%20we%20may%20send%20you%20e-mail%20to%20ask%20for%20clarification%20or%20feedback%20on%20a%20solution.%20We%20do%20not%20use%20your%20e-mail%20address%20for%20any%20other%20purpose%20and%20we%20delete%20it%20after%20we%20finish%20our%20review.%0\AFor%20further%20information%20about%20the%20privacy%20policies%20of%20Microsoft,%20please%20see%20http://privacy.microsoft.com/en-us/default.aspx.%0\A%0\d','Customer%20Feedback');">feedback</a> on this topic to Microsoft.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012 Microsoft.  All rights reserved.</a></p></span></div></div></body></html>